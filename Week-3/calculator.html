<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="author" content="carlosiv" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />
    <title>Basic Calculator</title>
  </head>
  <body class="d-flex">
    <div class="row row-cols-1 g-4 mx-auto mt-5">
      <div class="col">
        <div class="card bg-dark" style="width: 24rem;">
          <div class="card-body">
            <div class="calculator m-2 mx-auto">
              <div class="row bg-warning justify-content-center">
                <input
                  type="text"
                  value="0"
                  class="
                    col-12
                    border border-primary
                    rounded
                    p-0
                    m-0
                    fs-2
                    text-end
                  "
                  id="numInput"
                />
              </div>
              <div class="row text-center justify-content-center">
                <button
                  type="button"
                  class="operationButton col-3 btn btn-outline-primary btn-lg"
                  data-calc-value="clear"
                >
                &#8448;
                </button>
                <button
                  type="button"
                  class="operationButton col-3 btn btn-outline-primary btn-lg"
                  data-calc-value="sign"
                >
                  +/-
                </button>
                <button
                  type="button"
                  class="operationButton col-3 btn btn-outline-primary btn-lg"
                  data-calc-value="percent"
                >
                  %
                </button>
                <button
                  type="button"
                  class="operationButton col-3 btn btn-outline-primary btn-lg"
                  data-calc-value="divide"
                >
                &divide;
                </button>
              </div>
              <div class="row text-center justify-content-center">
                <button
                  type="button"
                  class="col-3 btn btn-outline-primary btn-lg"
                  data-num-value="7"
                >
                  7
                </button>
                <button
                  type="button"
                  class="col-3 btn btn-outline-primary btn-lg"
                  data-num-value="8"
                >
                  8
                </button>
                <button
                  type="button"
                  class="col-3 btn btn-outline-primary btn-lg"
                  data-num-value="9"
                >
                  9
                </button>
                <button
                  type="button"
                  class="operationButton col-3 btn btn-outline-primary btn-lg"
                  data-calc-value="multiply"
                >
                &times;
                </button>
              </div>
              <div class="row text-center justify-content-center">
                <button
                  type="button"
                  class="col-3 btn btn-outline-primary btn-lg"
                  data-num-value="4"
                >
                  4
                </button>
                <button
                  type="button"
                  class="col-3 btn btn-outline-primary btn-lg"
                  data-num-value="5"
                >
                  5
                </button>
                <button
                  type="button"
                  class="col-3 btn btn-outline-primary btn-lg"
                  data-num-value="6"
                >
                  6
                </button>
                <button
                  type="button"
                  class="operationButton col-3 btn btn-outline-primary btn-lg"
                  data-calc-value="subtract"
                >
                  -
                </button>
              </div>
              <div class="row text-center justify-content-center">
                <button
                  type="button"
                  class="col-3 btn btn-outline-primary btn-lg"
                  data-num-value="1"
                >
                  1
                </button>
                <button
                  type="button"
                  class="col-3 btn btn-outline-primary btn-lg"
                  data-num-value="2"
                >
                  2
                </button>
                <button
                  type="button"
                  class="col-3 btn btn-outline-primary btn-lg"
                  data-num-value="3"
                >
                  3
                </button>
                <button
                  type="button"
                  class="operationButton col-3 btn btn-outline-primary btn-lg"
                  data-calc-value="add"
                >
                  +
                </button>
              </div>
              <div class="row text-center justify-content-center row-cols-4">
                <button
                  type="button"
                  class="col-3 btn btn-outline-primary btn-lg"
                  data-num-value="0"
                >
                  0
                </button>
                <button
                  type="button"
                  class="col-3 btn btn-outline-primary btn-lg"
                  data-calc-value="delete"
                >
                &larr;
                </button>
                <button
                  type="button"
                  class="col-3 btn btn-outline-primary btn-lg"
                  data-calc-value="decimal"
                >
                  .
                </button>
                <button
                  type="button"
                  class="operationButton col-3 btn btn-outline-primary btn-lg"
                  data-num-value="answer"
                >
                  =
                </button>
              </div>
            </div>
          </div>
        </div>
      </div>



    </div>
 
    <script>
      const calculator = document.querySelector(".calculator");
      const calcInput = document.querySelector("#numInput");
      const calcButton = document.getElementsByClassName("operationButton");
      let num1 = 0;
      let operation
      calculator.addEventListener("click", (e) => {
        //console.log(calcButton.classList)
        if (e.target.matches("button")) {
          if ("numValue" in e.target.dataset === true) {
            //console.log(e.target.dataset.numValue);
            if (calcInput.value == 0) {
              calcInput.value = e.target.dataset.numValue;
            } else {
              calcInput.value = calcInput.value + e.target.dataset.numValue;
            }
          }
          if ("calcValue" in e.target.dataset === true) {
            //console.log(e.target.dataset.calcValue);

            if (e.target.dataset.calcValue === "decimal") {
              //check if decimal is already placed
              if (!calcInput.value.includes(".")) {
                calcInput.value += ".";
              } else {
                //has decimal point
              }
            }

            if (e.target.dataset.calcValue === "add") {
              console.log(calcButton.length)
              for(var i = 1; i < calcButton.length; i++) {
                calcButton[i].classList.add("disabled")
}
             
              e.target.classList.remove("disabled");

              e.target.classList.add("active");
              num1 = calcInput.value;
              calcInput.value = 0;

              //console.log(num1);
            }

            if (e.target.dataset.calcValue === "answer") {
              //check for num1 and operation
              //3 possible values ==> both empty, has num1, has operation(both not empty)

            }
          }
        }
      });
    </script>
  </body>
</html>
